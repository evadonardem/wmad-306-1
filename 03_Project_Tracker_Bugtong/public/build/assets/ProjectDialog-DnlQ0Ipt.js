import{d as M,r as m,j as l}from"./app-Ca0JlKGK.js";import{d as Q}from"./index-C9l5U3SX.js";import{u as T}from"./Feedback-CnUXsYYQ.js";import{q as P,r as C,t as L,j as k,B as y}from"./List-DwQNh8Dc.js";import{g as U}from"./getThemeProps-BsgfaVaZ.js";import{D as I,a as R,b as F,c as W}from"./DialogTitle-4k5WHtwW.js";import{T as E}from"./TextField-tksENqEP.js";function B(s,a,n,e,r){const[t,d]=m.useState(()=>r&&n?n(s).matches:e?e(s).matches:a);return C(()=>{if(!n)return;const i=n(s),u=()=>{d(i.matches)};return u(),i.addEventListener("change",u),()=>{i.removeEventListener("change",u)}},[s,n]),t}const $={...M},v=$.useSyncExternalStore;function A(s,a,n,e,r){const t=m.useCallback(()=>a,[a]),d=m.useMemo(()=>{if(r&&n)return()=>n(s).matches;if(e!==null){const{matches:o}=e(s);return()=>o}return t},[t,s,e,r,n]),[i,u]=m.useMemo(()=>{if(n===null)return[t,()=>()=>{}];const o=n(s);return[()=>o.matches,c=>(o.addEventListener("change",c),()=>{o.removeEventListener("change",c)})]},[t,n,s]);return v(u,i,d)}function S(s={}){const{themeId:a}=s;return function(e,r={}){let t=P();t&&a&&(t=t[a]||t);const d=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:u=d?window.matchMedia:null,ssrMatchMedia:p=null,noSsr:o=!1}=U({name:"MuiUseMediaQuery",props:r,theme:t});let c=typeof e=="function"?e(t):e;return c=c.replace(/^@media( ?)/m,""),c.includes("print")&&console.warn(["MUI: You have provided a `print` query to the `useMediaQuery` hook.","Using the print media query to modify print styles can lead to unexpected results.","Consider using the `displayPrint` field in the `sx` prop instead.","More information about `displayPrint` on our docs: https://mui.com/system/display/#display-in-print."].join(`
`)),(v!==void 0?A:B)(c,i,u,p,o)}}S();const _=S({themeId:L});function K({open:s,onClose:a,onSuccess:n,project:e}){const r=!!e,[t,d]=m.useState({title:e?.title||"",description:e?.description||""}),[i,u]=m.useState({}),[p,o]=m.useState(!1),c=k(),x=_(c.breakpoints.down("sm")),f=T();m.useEffect(()=>{d({title:e?.title||"",description:e?.description||""}),u({})},[e,s]);const b=h=>{d(g=>({...g,[h.target.name]:h.target.value}))},j=h=>{h.preventDefault(),o(!0);const g=r?"put":"post",w=r?`/projects/${e.id}`:"/projects";Q.Inertia[g](w,t,{onSuccess:()=>{f.show(`Project ${r?"updated":"created"}!`,"success"),o(!1),n&&n()},onError:D=>{u(D),f.show("Please fix the errors.","error"),o(!1)}})};return l.jsx(I,{open:s,onClose:a,fullScreen:x,maxWidth:"sm",fullWidth:!0,children:l.jsxs("form",{onSubmit:j,children:[l.jsx(R,{children:r?"Edit Project":"Add Project"}),l.jsxs(F,{children:[l.jsx(E,{autoFocus:!0,margin:"dense",name:"title",label:"Title",type:"text",fullWidth:!0,required:!0,value:t.title,onChange:b,error:!!i.title,helperText:i.title,inputProps:{maxLength:255}}),l.jsx(E,{margin:"dense",name:"description",label:"Description",type:"text",fullWidth:!0,multiline:!0,minRows:2,value:t.description,onChange:b,error:!!i.description,helperText:i.description})]}),l.jsxs(W,{children:[l.jsx(y,{onClick:a,disabled:p,children:"Cancel"}),l.jsx(y,{type:"submit",variant:"contained",disabled:p,children:r?"Update":"Create"})]})]})})}export{K as default};
