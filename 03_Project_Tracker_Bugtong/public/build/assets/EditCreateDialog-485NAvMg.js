import{r as n,j as t}from"./app-Ca0JlKGK.js";import{d as S}from"./index-C9l5U3SX.js";import{D,a as C,b as T,c as v}from"./DialogTitle-4k5WHtwW.js";import{S as B}from"./Stack-BDxwhvVe.js";import{T as h}from"./TextField-tksENqEP.js";import{B as x}from"./List-DwQNh8Dc.js";import"./useThemeProps-D0JQlJW6.js";import"./getThemeProps-BsgfaVaZ.js";function A({open:d,onClose:c,onSuccess:f,project:e}){const i=!!e,[r,a]=n.useState({title:e?.title||"",description:e?.description||""}),[s,l]=n.useState({}),[u,m]=n.useState(!1);n.useEffect(()=>{a({title:e?.title||"",description:e?.description||""}),l({})},[e,d]);const p=o=>{a({...r,[o.target.name]:o.target.value})},g=o=>{o.preventDefault(),m(!0),l({});const j=i?`/projects/${e.id}`:"/projects",b=i?"put":"post";S.Inertia[b](j,r,{onError:E=>l(E),onSuccess:()=>{f(i?"Project updated!":"Project created!"),a({title:"",description:""})},onFinish:()=>m(!1)})};return t.jsxs(D,{open:d,onClose:c,maxWidth:"xs",fullWidth:!0,children:[t.jsx(C,{children:i?"Edit Project":"New Project"}),t.jsxs("form",{onSubmit:g,children:[t.jsx(T,{children:t.jsxs(B,{spacing:2,children:[t.jsx(h,{label:"Title",name:"title",value:r.title,onChange:p,error:!!s.title,helperText:s.title,required:!0,fullWidth:!0,autoFocus:!0}),t.jsx(h,{label:"Description",name:"description",value:r.description,onChange:p,error:!!s.description,helperText:s.description,fullWidth:!0,multiline:!0,minRows:2})]})}),t.jsxs(v,{children:[t.jsx(x,{onClick:c,disabled:u,children:"Cancel"}),t.jsx(x,{type:"submit",variant:"contained",disabled:u,children:i?"Update":"Create"})]})]})]})}export{A as default};
