@tailwind base;
@tailwind components;
@tailwind utilities;

/* Midnight Slate Pro Theme - Global Styles */

/* Base Theme Transitions */
@layer base {
  * {
    @apply transition-colors duration-200;
  }

  html {
    @apply scroll-smooth;
  }

  /* Light Mode (Default) */
  :root {
    --color-bg: #F5F7FA;
    --color-surface: #FFFFFF;
    --color-primary: #4F46E5;
    --color-secondary: #0EA5E9;
    --color-success: #10B981;
    --color-warning: #F59E0B;
    --color-danger: #EF4444;
    --color-text-primary: #111827;
    --color-text-secondary: #6B7280;
    --color-text-tertiary: #9CA3AF;
    --color-border: #E5E7EB;
    --color-glass: rgba(255, 255, 255, 0.7);
    --color-glass-border: rgba(229, 231, 235, 0.5);
    --shadow-soft: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
    --shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
    --shadow-large: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px rgba(0, 0, 0, 0.05);
    --shadow-glass: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
  }

  /* Dark Mode */
  html.dark {
    --color-bg: #0F172A;
    --color-surface: #1E293B;
    --color-primary: #6366F1;
    --color-secondary: #38BDF8;
    --color-success: #34D399;
    --color-warning: #FBBF24;
    --color-danger: #F87171;
    --color-text-primary: #F8FAFC;
    --color-text-secondary: #CBD5E1;
    --color-text-tertiary: #94A3B8;
    --color-border: #334155;
    --color-glass: rgba(30, 41, 59, 0.8);
    --color-glass-border: rgba(51, 65, 85, 0.6);
    --shadow-soft: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
    --shadow-medium: 0 4px 6px rgba(0, 0, 0, 0.3), 0 2px 4px rgba(0, 0, 0, 0.2);
    --shadow-large: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px rgba(0, 0, 0, 0.2);
    --shadow-glass: 0 8px 32px 0 rgba(7, 128, 128, 0.3);
  }

  body {
    @apply bg-midnight-50 dark:bg-midnight-900 text-midnight-600 dark:text-midnight-50 transition-colors duration-200;
  }

  /* Improved Typography for Dark Mode */
  h1, h2, h3, h4, h5, h6 {
    @apply dark:text-white text-slate-900;
  }

  p, span, label {
    @apply dark:text-slate-100 text-slate-700;
  }

  small, .text-secondary {
    @apply dark:text-slate-300 text-slate-600;
  }
}


/* Component Styles */
@layer components {
  /* ======= PROFESSIONAL GLASSMORPHISM ======= */

  /* Grade A: Ultra Premium Glass Effect */
  .glass-ultra {
    @apply backdrop-blur-xl;
    background: linear-gradient(135deg, var(--color-glass), rgba(255,255,255,0.5));
    border: 1px solid var(--color-glass-border);
    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37), inset 0 1px 1px rgba(255, 255, 255, 0.3);
  }

  html.dark .glass-ultra {
    background: linear-gradient(135deg, rgba(30, 41, 59, 0.8), rgba(15, 23, 42, 0.5));
    border: 1px solid rgba(71, 85, 105, 0.3);
    box-shadow: 0 8px 32px 0 rgba(7, 128, 128, 0.3), inset 0 1px 1px rgba(255, 255, 255, 0.05);
  }

  /* Grade B: Premium Glass Cards */
  .glass-card {
    @apply backdrop-blur-lg rounded-2xl p-5 relative overflow-hidden;
    background: rgba(255, 255, 255, 0.75);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (prefers-reduced-motion: no-preference) {
    .glass-card {
      @apply hover:shadow-lg;
      background: rgba(255, 255, 255, 0.85);
    }
  }

  html.dark .glass-card {
    background: rgba(30, 41, 59, 0.85);
    border: 1px solid rgba(71, 85, 105, 0.4);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
  }

  @media (prefers-reduced-motion: no-preference) {
    html.dark .glass-card:hover {
      background: rgba(30, 41, 59, 0.95);
    }
  }

  /* Grade C: Standard Glass Elements */
  .glass-light {
    @apply backdrop-blur-md rounded-xl;
    background: rgba(255, 255, 255, 0.6);
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  }

  html.dark .glass-light {
    background: rgba(30, 41, 59, 0.7);
    border: 1px solid rgba(71, 85, 105, 0.3);
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
  }

  /* ======= BUTTONS - MODERN SAAS STYLE ======= */

  /* Primary Button - Gradient with Glow */
  .btn-primary {
    @apply px-6 py-2.5 rounded-lg font-semibold transition-all duration-300 ease-out relative overflow-hidden;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    color: white;
    box-shadow: var(--shadow-soft);
    border: none;
    cursor: pointer;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-primary:hover {
      @apply shadow-xl -translate-y-0.5;
      filter: brightness(1.1);
      box-shadow: 0 12px 24px rgba(79, 70, 229, 0.2);
    }

    .btn-primary:active {
      @apply scale-95;
    }
  }

  .btn-primary:focus {
    @apply outline-none ring-4 ring-offset-2;
    ring-color: rgba(79, 70, 229, 0.2);
  }

  /* Secondary Button - Glass Outline Style */
  .btn-secondary {
    @apply px-6 py-2.5 rounded-lg font-semibold border-2 transition-all duration-300;
    color: var(--color-primary);
    border-color: var(--color-primary);
    background-color: var(--color-glass);
    cursor: pointer;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-secondary:hover {
      @apply -translate-y-0.5 shadow-lg;
      background-color: var(--color-glass);
      border-color: var(--color-secondary);
      color: var(--color-secondary);
    }

    .btn-secondary:active {
      @apply scale-95;
    }
  }

  /* Danger Button */
  .btn-danger {
    @apply px-6 py-2.5 rounded-lg font-semibold transition-all duration-300;
    background-color: var(--color-danger);
    color: white;
    box-shadow: var(--shadow-soft);
    cursor: pointer;
    border: none;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-danger:hover {
      @apply shadow-lg -translate-y-0.5;
      filter: brightness(1.1);
    }

    .btn-danger:active {
      @apply scale-95;
    }
  }

  /* Success Button */
  .btn-success {
    @apply px-6 py-2.5 rounded-lg font-semibold transition-all duration-300;
    background-color: var(--color-success);
    color: white;
    box-shadow: var(--shadow-soft);
    cursor: pointer;
    border: none;
  }

  @media (prefers-reduced-motion: no-preference) {
    .btn-success:hover {
      @apply shadow-lg -translate-y-0.5;
      filter: brightness(1.1);
    }
  }

  /* ======= CARDS WITH ELEVATION ======= */

  .card-elevated {
    @apply rounded-2xl p-6 border backdrop-blur-md;
    background: rgba(255, 255, 255, 0.95);
    border-color: var(--color-border);
    box-shadow: var(--shadow-soft);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  @media (prefers-reduced-motion: no-preference) {
    .card-elevated:hover {
      box-shadow: var(--shadow-large);
      @apply -translate-y-1;
    }
  }

  html.dark .card-elevated {
    background: rgba(30, 41, 59, 0.95);
    border-color: var(--color-border);
  }

  /* ======= GRADIENT CARDS ======= */

  .card-gradient {
    @apply rounded-2xl p-6 relative overflow-hidden;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    color: white;
    box-shadow: var(--shadow-glass);
  }

  .card-gradient::before {
    content: '';
    @apply absolute inset-0 opacity-20;
    background: linear-gradient(45deg, transparent 30%, rgba(255, 255, 255, 0.3) 50%, transparent 70%);
    animation: shimmer 3s infinite;
  }

  .card-gradient > * {
    @apply relative z-10;
  }

  /* ======= INPUT FIELDS ======= */

  .input-modern {
    @apply w-full px-4 py-3 rounded-lg border-2 transition-all duration-200;
    border-color: var(--color-border);
    background-color: rgba(255, 255, 255, 0.5);
    color: var(--color-text-primary);
    font-size: 0.95rem;
  }

  @media (prefers-reduced-motion: no-preference) {
    .input-modern:focus {
      @apply outline-none ring-0 border-transparent;
      box-shadow: 0 0 0 3px var(--color-primary), 0 0 0 6px rgba(79, 70, 229, 0.1);
      background-color: rgba(255, 255, 255, 0.8);
    }
  }

  html.dark .input-modern {
    background-color: rgba(30, 41, 59, 0.6);
    border-color: var(--color-border);
    color: var(--color-text-primary);
  }

  @media (prefers-reduced-motion: no-preference) {
    html.dark .input-modern:focus {
      background-color: rgba(30, 41, 59, 0.8);
      box-shadow: 0 0 0 3px var(--color-primary), 0 0 0 6px rgba(99, 102, 241, 0.1);
    }
  }

  /* ======= PROGRESS BAR ======= */

  .progress-gradient {
    background: linear-gradient(90deg, var(--color-primary), var(--color-secondary));
    @apply h-2 rounded-full overflow-hidden;
    box-shadow: 0 0 10px rgba(79, 70, 229, 0.2);
  }

  .progress-gradient::after {
    content: '';
    @apply absolute inset-0 opacity-50;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.4), transparent);
    animation: shimmer 2s infinite;
  }

  /* ======= STATUS BADGES ======= */

  .badge-base {
    @apply inline-flex items-center px-3 py-1.5 rounded-full text-xs font-bold transition-all duration-200;
  }

  .badge-success {
    @apply badge-base;
    color: white;
    background-color: var(--color-success);
    box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
  }

  .badge-warning {
    @apply badge-base;
    color: white;
    background-color: var(--color-warning);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
  }

  .badge-danger {
    @apply badge-base;
    color: white;
    background-color: var(--color-danger);
    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
  }

  .badge-primary {
    @apply badge-base;
    color: white;
    background: linear-gradient(135deg, var(--color-primary), var(--color-secondary));
    box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
  }

  @media (prefers-reduced-motion: no-preference) {
    .badge-success:hover, .badge-warning:hover, .badge-danger:hover, .badge-primary:hover {
      @apply scale-105 -translate-y-0.5;
    }
  }

  /* ======= DIVIDERS ======= */

  .divider-soft {
    @apply border-t;
    border-color: var(--color-border);
  }

  .divider-gradient {
    @apply h-1;
    background: linear-gradient(90deg, transparent, var(--color-primary), transparent);
  }

  /* ======= LINKS ======= */

  .link-accent {
    @apply text-none transition-all duration-200 font-semibold cursor-pointer;
    color: var(--color-primary);
  }

  @media (prefers-reduced-motion: no-preference) {
    .link-accent:hover {
      color: var(--color-secondary);
      @apply underline;
      filter: brightness(1.1);
    }
  }

  /* ======= MODAL IMPROVEMENTS ======= */

  .modal-glass {
    @apply backdrop-blur-xl;
    background: rgba(0, 0, 0, 0.6);
  }

  html.dark .modal-glass {
    background: rgba(0, 0, 0, 0.8);
  }

  .modal-content {
    @apply rounded-2xl p-8 glass-ultra relative;
    animation: fade-in-scale 0.3s ease-out;
  }

  .modal-header {
    @apply pb-4 border-b;
    border-color: var(--color-border);
  }

  .modal-header h2 {
    @apply text-2xl font-bold;
    color: var(--color-text-primary);
  }

  .modal-body {
    @apply py-6;
  }

  .modal-footer {
    @apply pt-6 border-t flex gap-3 justify-end;
    border-color: var(--color-border);
  }

  /* ======= TASK ITEM STYLES ======= */

  .task-item {
    @apply glass-card shadow-soft hover:shadow-soft-lg transition-all duration-300;
    animation: slide-in-up 0.3s ease-out;
  }

  @media (prefers-reduced-motion: no-preference) {
    .task-item:hover {
      @apply -translate-y-1;
    }
  }

  .task-item.completed {
    @apply opacity-75;
  }

  .task-item-drag {
    @apply cursor-move opacity-90;
  }

  .task-item-drag:hover {
    @apply opacity-100;
  }

  /* ======= KANBAN CARD ======= */

  .kanban-card {
    @apply rounded-xl bg-white dark:bg-midnight-800 p-4 cursor-move shadow-soft;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    animation: pop 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  @media (prefers-reduced-motion: no-preference) {
    .kanban-card:hover {
      box-shadow: var(--shadow-large);
      @apply -translate-y-2 scale-102;
    }
  }

  /* ======= ANIMATIONS ======= */

  @keyframes shimmer {
    0% {
      background-position: -1000px 0;
    }
    100% {
      background-position: 1000px 0;
    }
  }

  @keyframes float {
    0%, 100% {
      transform: translateY(0px);
    }
    50% {
      transform: translateY(-8px);
    }
  }

  @keyframes pulse-glow {
    0%, 100% {
      opacity: 1;
      box-shadow: 0 0 0 0 rgba(79, 70, 229, 0.7);
    }
    50% {
      opacity: 0.8;
    }
    70% {
      box-shadow: 0 0 0 10px rgba(79, 70, 229, 0);
    }
  }

  @keyframes slide-in-right {
    from {
      opacity: 0;
      transform: translateX(30px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes slide-in-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in-down {
    from {
      opacity: 0;
      transform: translateY(-30px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes fade-in-scale {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @keyframes pop {
    0% {
      transform: scale(0);
      opacity: 0;
    }
    50% {
      transform: scale(1.05);
    }
    100% {
      transform: scale(1);
      opacity: 1;
    }
  }

  @keyframes morph {
    0%, 100% {
      border-radius: 60% 40% 30% 70% / 60% 30% 70% 40%;
    }
    50% {
      border-radius: 30% 60% 70% 40% / 50% 60% 30% 60%;
    }
  }

  /* Animation utility classes */
  .animate-float {
    animation: float 3s ease-in-out infinite;
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  .animate-shimmer {
    animation: shimmer 2s ease-in-out infinite;
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.4s ease-out;
  }

  .animate-slide-in-up {
    animation: slide-in-up 0.4s ease-out;
  }

  .animate-slide-in-down {
    animation: slide-in-down 0.4s ease-out;
  }

  .animate-fade-in-scale {
    animation: fade-in-scale 0.4s ease-out;
  }

  .animate-pop {
    animation: pop 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  .animate-morph {
    animation: morph 3s ease-in-out infinite;
  }

  /* ======= UTILITY CLASSES ======= */

  button, a, [role="button"] {
    @apply transition-all duration-200 ease-out;
  }

  /* Responsive glass effect */
  @media (max-width: 640px) {
    .glass-card {
      @apply rounded-lg p-4;
    }

    .modal-content {
      @apply p-6;
    }

    .btn-primary, .btn-secondary, .btn-danger {
      @apply px-4 py-2;
      font-size: 0.875rem;
    }
  }

  /* Accessibility - reduce motion */
  @media (prefers-reduced-motion: reduce) {
    * {
      @apply !transition-none !animate-none;
    }
  }
}


/* Smooth hover for interactive elements */
@layer utilities {
  .scale-102 {
    transform: scale(1.02);
  }

  .glass-effect {
    @apply backdrop-blur-lg bg-white/40 dark:bg-slate-800/40 border border-white/20 dark:border-slate-700/20;
  }

  .text-glow {
    text-shadow: 0 0 20px rgba(79, 70, 229, 0.5);
  }

  .shadow-glow {
    box-shadow: 0 0 30px rgba(79, 70, 229, 0.3);
  }

  .shadow-glow-danger {
    box-shadow: 0 0 30px rgba(239, 68, 68, 0.2);
  }
}
